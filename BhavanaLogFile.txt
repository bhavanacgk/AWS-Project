Using username "ubuntu".
Authenticating with public key "bhavna" from agent
Welcome to Ubuntu 20.04.5 LTS (GNU/Linux 5.15.0-1028-aws x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Mon Feb  6 02:35:50 UTC 2023

  System load:  0.06              Processes:             104
  Usage of /:   20.4% of 7.57GB   Users logged in:       0
  Memory usage: 22%               IPv4 address for eth0: 172.31.7.252
  Swap usage:   0%

0 updates can be applied immediately.


The list of available updates is more than a week old.
To check for new updates run: sudo apt update


The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.

To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.

ubuntu@ip-172-31-7-252:~$ sudo apt-get update
Hit:1 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal InRelease
Get:2 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease [11                                                                             4 kB]
Get:3 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease [                                                                             108 kB]
Get:4 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:5 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 Packag                                                                             es [8628 kB]
Get:6 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/universe Translation-                                                                             en [5124 kB]
Get:7 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 c-n-f                                                                              Metadata [265 kB]
Get:8 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/multiverse amd64 Pack                                                                             ages [144 kB]
Get:9 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/multiverse Translatio                                                                             n-en [104 kB]
Get:10 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/multiverse amd64 c-n                                                                             -f Metadata [9136 B]
Get:11 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 P                                                                             ackages [2345 kB]
Get:12 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main Transla                                                                             tion-en [405 kB]
Get:13 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 c                                                                             -n-f Metadata [16.3 kB]
Get:14 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted a                                                                             md64 Packages [1564 kB]
Get:15 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted T                                                                             ranslation-en [221 kB]
Get:16 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted a                                                                             md64 c-n-f Metadata [620 B]
Get:17 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd                                                                             64 Packages [1021 kB]
Get:18 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/universe Tra                                                                             nslation-en [237 kB]
Get:19 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd                                                                             64 c-n-f Metadata [23.5 kB]
Get:20 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse a                                                                             md64 Packages [25.2 kB]
Get:21 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse T                                                                             ranslation-en [7408 B]
Get:22 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse a                                                                             md64 c-n-f Metadata [604 B]
Get:23 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-backports/main amd64                                                                              Packages [45.7 kB]
Get:24 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-backports/main Trans                                                                             lation-en [16.3 kB]
Get:25 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-backports/main amd64                                                                              c-n-f Metadata [1420 B]
Get:26 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-backports/restricted                                                                              amd64 c-n-f Metadata [116 B]
Get:27 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-backports/universe a                                                                             md64 Packages [24.9 kB]
Get:28 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-backports/universe T                                                                             ranslation-en [16.3 kB]
Get:29 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-backports/universe a                                                                             md64 c-n-f Metadata [880 B]
Get:30 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-backports/multiverse                                                                              amd64 c-n-f Metadata [116 B]
Get:31 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [196                                                                             8 kB]
Get:32 http://security.ubuntu.com/ubuntu focal-security/main Translation-en [322                                                                              kB]
Get:33 http://security.ubuntu.com/ubuntu focal-security/main amd64 c-n-f Metadat                                                                             a [12.0 kB]
Get:34 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Package                                                                             s [1467 kB]
Get:35 http://security.ubuntu.com/ubuntu focal-security/restricted Translation-e                                                                             n [207 kB]
Get:36 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 c-n-f M                                                                             etadata [624 B]
Get:37 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages                                                                              [792 kB]
Get:38 http://security.ubuntu.com/ubuntu focal-security/universe Translation-en                                                                              [154 kB]
Get:39 http://security.ubuntu.com/ubuntu focal-security/universe amd64 c-n-f Met                                                                             adata [17.0 kB]
Get:40 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Package                                                                             s [22.2 kB]
Get:41 http://security.ubuntu.com/ubuntu focal-security/multiverse Translation-e                                                                             n [5464 B]
Get:42 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 c-n-f M                                                                             etadata [516 B]
Fetched 25.6 MB in 5s (5650 kB/s)
Reading package lists... Done
ubuntu@ip-172-31-7-252:~$ sudo apt-get install apache2
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils libapr1 libaprutil1
  libaprutil1-dbd-sqlite3 libaprutil1-ldap libjansson4 liblua5.2-0 ssl-cert
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser
  openssl-blacklist
The following NEW packages will be installed:
  apache2 apache2-bin apache2-data apache2-utils libapr1 libaprutil1
  libaprutil1-dbd-sqlite3 libaprutil1-ldap libjansson4 liblua5.2-0 ssl-cert
0 upgraded, 11 newly installed, 0 to remove and 27 not upgraded.
Need to get 1866 kB of archives.
After this operation, 8098 kB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Get:1 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libapr1 am                                                                             d64 1.6.5-1ubuntu1 [91.4 kB]
Get:2 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libaprutil                                                                             1 amd64 1.6.1-4ubuntu2 [84.7 kB]
Get:3 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libaprutil                                                                             1-dbd-sqlite3 amd64 1.6.1-4ubuntu2 [10.5 kB]
Get:4 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libaprutil                                                                             1-ldap amd64 1.6.1-4ubuntu2 [8736 B]
Get:5 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libjansson                                                                             4 amd64 2.12-1build1 [28.9 kB]
Get:6 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 liblua5.2-                                                                             0 amd64 5.2.4-1.1build3 [106 kB]
Get:7 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 ap                                                                             ache2-bin amd64 2.4.41-4ubuntu3.13 [1181 kB]
Get:8 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 ap                                                                             ache2-data all 2.4.41-4ubuntu3.13 [159 kB]
Get:9 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 ap                                                                             ache2-utils amd64 2.4.41-4ubuntu3.13 [84.1 kB]
Get:10 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 a                                                                             pache2 amd64 2.4.41-4ubuntu3.13 [95.6 kB]
Get:11 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 ssl-cert                                                                              all 1.0.39 [17.0 kB]
Fetched 1866 kB in 0s (23.3 MB/s)
Preconfiguring packages ...
Selecting previously unselected package libapr1:amd64.
(Reading database ... 61835 files and directories currently installed.)
Preparing to unpack .../00-libapr1_1.6.5-1ubuntu1_amd64.deb ...
Unpacking libapr1:amd64 (1.6.5-1ubuntu1) ...
Selecting previously unselected package libaprutil1:amd64.
Preparing to unpack .../01-libaprutil1_1.6.1-4ubuntu2_amd64.deb ...
Unpacking libaprutil1:amd64 (1.6.1-4ubuntu2) ...
Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.
Preparing to unpack .../02-libaprutil1-dbd-sqlite3_1.6.1-4ubuntu2_amd64.deb ...
Unpacking libaprutil1-dbd-sqlite3:amd64 (1.6.1-4ubuntu2) ...
Selecting previously unselected package libaprutil1-ldap:amd64.
Preparing to unpack .../03-libaprutil1-ldap_1.6.1-4ubuntu2_amd64.deb ...
Unpacking libaprutil1-ldap:amd64 (1.6.1-4ubuntu2) ...
Selecting previously unselected package libjansson4:amd64.
Preparing to unpack .../04-libjansson4_2.12-1build1_amd64.deb ...
Unpacking libjansson4:amd64 (2.12-1build1) ...
Selecting previously unselected package liblua5.2-0:amd64.
Preparing to unpack .../05-liblua5.2-0_5.2.4-1.1build3_amd64.deb ...
Unpacking liblua5.2-0:amd64 (5.2.4-1.1build3) ...
Selecting previously unselected package apache2-bin.
Preparing to unpack .../06-apache2-bin_2.4.41-4ubuntu3.13_amd64.deb ...
Unpacking apache2-bin (2.4.41-4ubuntu3.13) ...
Selecting previously unselected package apache2-data.
Preparing to unpack .../07-apache2-data_2.4.41-4ubuntu3.13_all.deb ...
Unpacking apache2-data (2.4.41-4ubuntu3.13) ...
Selecting previously unselected package apache2-utils.
Preparing to unpack .../08-apache2-utils_2.4.41-4ubuntu3.13_amd64.deb ...
Unpacking apache2-utils (2.4.41-4ubuntu3.13) ...
Selecting previously unselected package apache2.
Preparing to unpack .../09-apache2_2.4.41-4ubuntu3.13_amd64.deb ...
Unpacking apache2 (2.4.41-4ubuntu3.13) ...
Selecting previously unselected package ssl-cert.
Preparing to unpack .../10-ssl-cert_1.0.39_all.deb ...
Unpacking ssl-cert (1.0.39) ...
Setting up libapr1:amd64 (1.6.5-1ubuntu1) ...
Setting up libjansson4:amd64 (2.12-1build1) ...
Setting up ssl-cert (1.0.39) ...
Setting up liblua5.2-0:amd64 (5.2.4-1.1build3) ...
Setting up apache2-data (2.4.41-4ubuntu3.13) ...
Setting up libaprutil1:amd64 (1.6.1-4ubuntu2) ...
Setting up libaprutil1-ldap:amd64 (1.6.1-4ubuntu2) ...
Setting up libaprutil1-dbd-sqlite3:amd64 (1.6.1-4ubuntu2) ...
Setting up apache2-utils (2.4.41-4ubuntu3.13) ...
Setting up apache2-bin (2.4.41-4ubuntu3.13) ...
Setting up apache2 (2.4.41-4ubuntu3.13) ...
Enabling module mpm_event.
Enabling module authz_core.
Enabling module authz_host.
Enabling module authn_core.
Enabling module auth_basic.
Enabling module access_compat.
Enabling module authn_file.
Enabling module authz_user.
Enabling module alias.
Enabling module dir.
Enabling module autoindex.
Enabling module env.
Enabling module mime.
Enabling module negotiation.
Enabling module setenvif.
Enabling module filter.
Enabling module deflate.
Enabling module status.
Enabling module reqtimeout.
Enabling conf charset.
Enabling conf localized-error-pages.
Enabling conf other-vhosts-access-log.
Enabling conf security.
Enabling conf serve-cgi-bin.
Enabling site 000-default.
Created symlink /etc/systemd/system/multi-user.target.wants/apache2.service → /l                                                                             ib/systemd/system/apache2.service.
Created symlink /etc/systemd/system/multi-user.target.wants/apache-htcacheclean.                                                                             service → /lib/systemd/system/apache-htcacheclean.service.
Processing triggers for ufw (0.36-6ubuntu1) ...
Processing triggers for systemd (245.4-4ubuntu3.19) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.9) ...
ubuntu@ip-172-31-7-252:~$ sudo apt-get install libapache2-mod-wsgi-py3
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following NEW packages will be installed:
  libapache2-mod-wsgi-py3
0 upgraded, 1 newly installed, 0 to remove and 27 not upgraded.
Need to get 93.8 kB of archives.
After this operation, 300 kB of additional disk space will be used.
Get:1 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 li                                                                             bapache2-mod-wsgi-py3 amd64 4.6.8-1ubuntu3.1 [93.8 kB]
Fetched 93.8 kB in 0s (5004 kB/s)
Selecting previously unselected package libapache2-mod-wsgi-py3.
(Reading database ... 62560 files and directories currently installed.)
Preparing to unpack .../libapache2-mod-wsgi-py3_4.6.8-1ubuntu3.1_amd64.deb ...
Unpacking libapache2-mod-wsgi-py3 (4.6.8-1ubuntu3.1) ...
Setting up libapache2-mod-wsgi-py3 (4.6.8-1ubuntu3.1) ...
apache2_invoke: Enable module wsgi
ubuntu@ip-172-31-7-252:~$ sudo apt-get install python-pip
Reading package lists... Done
Building dependency tree
Reading state information... Done
Package python-pip is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source
However the following packages replace it:
  python3-pip

E: Package 'python-pip' has no installation candidate
ubuntu@ip-172-31-7-252:~$ sudo apt-get install python3-pip
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  binutils binutils-common binutils-x86-64-linux-gnu build-essential cpp cpp-9
  dpkg-dev fakeroot g++ g++-9 gcc gcc-9 gcc-9-base libalgorithm-diff-perl
  libalgorithm-diff-xs-perl libalgorithm-merge-perl libasan5 libatomic1
  libbinutils libc-dev-bin libc6-dev libcc1-0 libcrypt-dev libctf-nobfd0
  libctf0 libdpkg-perl libexpat1-dev libfakeroot libfile-fcntllock-perl
  libgcc-9-dev libgomp1 libisl22 libitm1 liblsan0 libmpc3 libpython3-dev
  libpython3.8-dev libquadmath0 libstdc++-9-dev libtsan0 libubsan1
  linux-libc-dev make manpages-dev python-pip-whl python3-dev python3-wheel
  python3.8-dev zlib1g-dev
Suggested packages:
  binutils-doc cpp-doc gcc-9-locales debian-keyring g++-multilib
  g++-9-multilib gcc-9-doc gcc-multilib autoconf automake libtool flex bison
  gdb gcc-doc gcc-9-multilib glibc-doc bzr libstdc++-9-doc make-doc
The following NEW packages will be installed:
  binutils binutils-common binutils-x86-64-linux-gnu build-essential cpp cpp-9
  dpkg-dev fakeroot g++ g++-9 gcc gcc-9 gcc-9-base libalgorithm-diff-perl
  libalgorithm-diff-xs-perl libalgorithm-merge-perl libasan5 libatomic1
  libbinutils libc-dev-bin libc6-dev libcc1-0 libcrypt-dev libctf-nobfd0
  libctf0 libdpkg-perl libexpat1-dev libfakeroot libfile-fcntllock-perl
  libgcc-9-dev libgomp1 libisl22 libitm1 liblsan0 libmpc3 libpython3-dev
  libpython3.8-dev libquadmath0 libstdc++-9-dev libtsan0 libubsan1
  linux-libc-dev make manpages-dev python-pip-whl python3-dev python3-pip
  python3-wheel python3.8-dev zlib1g-dev
0 upgraded, 50 newly installed, 0 to remove and 27 not upgraded.
Need to get 52.2 MB of archives.
After this operation, 228 MB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Get:1 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 bi                                                                             nutils-common amd64 2.34-6ubuntu1.4 [207 kB]
Get:2 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 li                                                                             bbinutils amd64 2.34-6ubuntu1.4 [474 kB]
Get:3 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 li                                                                             bctf-nobfd0 amd64 2.34-6ubuntu1.4 [47.2 kB]
Get:4 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 li                                                                             bctf0 amd64 2.34-6ubuntu1.4 [46.6 kB]
Get:5 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 bi                                                                             nutils-x86-64-linux-gnu amd64 2.34-6ubuntu1.4 [1613 kB]
Get:6 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 bi                                                                             nutils amd64 2.34-6ubuntu1.4 [3380 B]
Get:7 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 li                                                                             bc-dev-bin amd64 2.31-0ubuntu9.9 [71.8 kB]
Get:8 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 li                                                                             nux-libc-dev amd64 5.4.0-137.154 [1120 kB]
Get:9 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libcrypt-d                                                                             ev amd64 1:4.4.10-10ubuntu4 [104 kB]
Get:10 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibc6-dev amd64 2.31-0ubuntu9.9 [2519 kB]
Get:11 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 g                                                                             cc-9-base amd64 9.4.0-1ubuntu1~20.04.1 [19.4 kB]
Get:12 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libisl22                                                                              amd64 0.22.1-1 [592 kB]
Get:13 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libmpc3 a                                                                             md64 1.1.0-1 [40.8 kB]
Get:14 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 c                                                                             pp-9 amd64 9.4.0-1ubuntu1~20.04.1 [7500 kB]
Get:15 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 cpp amd64                                                                              4:9.3.0-1ubuntu2 [27.6 kB]
Get:16 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibcc1-0 amd64 10.3.0-1ubuntu1~20.04 [48.8 kB]
Get:17 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibgomp1 amd64 10.3.0-1ubuntu1~20.04 [102 kB]
Get:18 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibitm1 amd64 10.3.0-1ubuntu1~20.04 [26.2 kB]
Get:19 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibatomic1 amd64 10.3.0-1ubuntu1~20.04 [9284 B]
Get:20 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibasan5 amd64 9.4.0-1ubuntu1~20.04.1 [2751 kB]
Get:21 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             iblsan0 amd64 10.3.0-1ubuntu1~20.04 [835 kB]
Get:22 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibtsan0 amd64 10.3.0-1ubuntu1~20.04 [2009 kB]
Get:23 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibubsan1 amd64 10.3.0-1ubuntu1~20.04 [784 kB]
Get:24 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibquadmath0 amd64 10.3.0-1ubuntu1~20.04 [146 kB]
Get:25 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibgcc-9-dev amd64 9.4.0-1ubuntu1~20.04.1 [2359 kB]
Get:26 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 g                                                                             cc-9 amd64 9.4.0-1ubuntu1~20.04.1 [8274 kB]
Get:27 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 gcc amd64                                                                              4:9.3.0-1ubuntu2 [5208 B]
Get:28 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibstdc++-9-dev amd64 9.4.0-1ubuntu1~20.04.1 [1722 kB]
Get:29 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 g                                                                             ++-9 amd64 9.4.0-1ubuntu1~20.04.1 [8420 kB]
Get:30 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 g++ amd64                                                                              4:9.3.0-1ubuntu2 [1604 B]
Get:31 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 make amd6                                                                             4 4.2.1-1.2 [162 kB]
Get:32 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibdpkg-perl all 1.19.7ubuntu3.2 [231 kB]
Get:33 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 d                                                                             pkg-dev all 1.19.7ubuntu3.2 [679 kB]
Get:34 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 b                                                                             uild-essential amd64 12.8ubuntu1.1 [4664 B]
Get:35 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libfakero                                                                             ot amd64 1.24-1 [25.7 kB]
Get:36 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 fakeroot                                                                              amd64 1.24-1 [62.6 kB]
Get:37 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libalgori                                                                             thm-diff-perl all 1.19.03-2 [46.6 kB]
Get:38 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libalgori                                                                             thm-diff-xs-perl amd64 0.04-6 [11.3 kB]
Get:39 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libalgori                                                                             thm-merge-perl all 0.08-3 [12.0 kB]
Get:40 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibexpat1-dev amd64 2.2.9-1ubuntu0.6 [116 kB]
Get:41 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libfile-f                                                                             cntllock-perl amd64 0.22-3build4 [33.1 kB]
Get:42 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 l                                                                             ibpython3.8-dev amd64 3.8.10-0ubuntu1~20.04.6 [3949 kB]
Get:43 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libpython                                                                             3-dev amd64 3.8.2-0ubuntu2 [7236 B]
Get:44 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 manpages-                                                                             dev all 5.05-1 [2266 kB]
Get:45 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd                                                                             64 python-pip-whl all 20.0.2-5ubuntu1.7 [1805 kB]
Get:46 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 z                                                                             lib1g-dev amd64 1:1.2.11.dfsg-2ubuntu1.5 [155 kB]
Get:47 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 p                                                                             ython3.8-dev amd64 3.8.10-0ubuntu1~20.04.6 [514 kB]
Get:48 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal/main amd64 python3-d                                                                             ev amd64 3.8.2-0ubuntu2 [1212 B]
Get:49 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd                                                                             64 python3-wheel all 0.34.2-1ubuntu0.1 [23.9 kB]
Get:50 http://us-east-2.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd                                                                             64 python3-pip all 20.0.2-5ubuntu1.7 [230 kB]
Fetched 52.2 MB in 1s (59.3 MB/s)
Extracting templates from packages: 100%
Selecting previously unselected package binutils-common:amd64.
(Reading database ... 62569 files and directories currently installed.)
Preparing to unpack .../00-binutils-common_2.34-6ubuntu1.4_amd64.deb ...
Unpacking binutils-common:amd64 (2.34-6ubuntu1.4) ...
Selecting previously unselected package libbinutils:amd64.
Preparing to unpack .../01-libbinutils_2.34-6ubuntu1.4_amd64.deb ...
Unpacking libbinutils:amd64 (2.34-6ubuntu1.4) ...
Selecting previously unselected package libctf-nobfd0:amd64.
Preparing to unpack .../02-libctf-nobfd0_2.34-6ubuntu1.4_amd64.deb ...
Unpacking libctf-nobfd0:amd64 (2.34-6ubuntu1.4) ...
Selecting previously unselected package libctf0:amd64.
Preparing to unpack .../03-libctf0_2.34-6ubuntu1.4_amd64.deb ...
Unpacking libctf0:amd64 (2.34-6ubuntu1.4) ...
Selecting previously unselected package binutils-x86-64-linux-gnu.
Preparing to unpack .../04-binutils-x86-64-linux-gnu_2.34-6ubuntu1.4_amd64.deb .                                                                             ..
Unpacking binutils-x86-64-linux-gnu (2.34-6ubuntu1.4) ...
Selecting previously unselected package binutils.
Preparing to unpack .../05-binutils_2.34-6ubuntu1.4_amd64.deb ...
Unpacking binutils (2.34-6ubuntu1.4) ...
Selecting previously unselected package libc-dev-bin.
Preparing to unpack .../06-libc-dev-bin_2.31-0ubuntu9.9_amd64.deb ...
Unpacking libc-dev-bin (2.31-0ubuntu9.9) ...
Selecting previously unselected package linux-libc-dev:amd64.
Preparing to unpack .../07-linux-libc-dev_5.4.0-137.154_amd64.deb ...
Unpacking linux-libc-dev:amd64 (5.4.0-137.154) ...
Selecting previously unselected package libcrypt-dev:amd64.
Preparing to unpack .../08-libcrypt-dev_1%3a4.4.10-10ubuntu4_amd64.deb ...
Unpacking libcrypt-dev:amd64 (1:4.4.10-10ubuntu4) ...
Selecting previously unselected package libc6-dev:amd64.
Preparing to unpack .../09-libc6-dev_2.31-0ubuntu9.9_amd64.deb ...
Unpacking libc6-dev:amd64 (2.31-0ubuntu9.9) ...
Selecting previously unselected package gcc-9-base:amd64.
Preparing to unpack .../10-gcc-9-base_9.4.0-1ubuntu1~20.04.1_amd64.deb ...
Unpacking gcc-9-base:amd64 (9.4.0-1ubuntu1~20.04.1) ...
Selecting previously unselected package libisl22:amd64.
Preparing to unpack .../11-libisl22_0.22.1-1_amd64.deb ...
Unpacking libisl22:amd64 (0.22.1-1) ...
Selecting previously unselected package libmpc3:amd64.
Preparing to unpack .../12-libmpc3_1.1.0-1_amd64.deb ...
Unpacking libmpc3:amd64 (1.1.0-1) ...
Selecting previously unselected package cpp-9.
Preparing to unpack .../13-cpp-9_9.4.0-1ubuntu1~20.04.1_amd64.deb ...
Unpacking cpp-9 (9.4.0-1ubuntu1~20.04.1) ...
Selecting previously unselected package cpp.
Preparing to unpack .../14-cpp_4%3a9.3.0-1ubuntu2_amd64.deb ...
Unpacking cpp (4:9.3.0-1ubuntu2) ...
Selecting previously unselected package libcc1-0:amd64.
Preparing to unpack .../15-libcc1-0_10.3.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libcc1-0:amd64 (10.3.0-1ubuntu1~20.04) ...
Selecting previously unselected package libgomp1:amd64.
Preparing to unpack .../16-libgomp1_10.3.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libgomp1:amd64 (10.3.0-1ubuntu1~20.04) ...
Selecting previously unselected package libitm1:amd64.
Preparing to unpack .../17-libitm1_10.3.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libitm1:amd64 (10.3.0-1ubuntu1~20.04) ...
Selecting previously unselected package libatomic1:amd64.
Preparing to unpack .../18-libatomic1_10.3.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libatomic1:amd64 (10.3.0-1ubuntu1~20.04) ...
Selecting previously unselected package libasan5:amd64.
Preparing to unpack .../19-libasan5_9.4.0-1ubuntu1~20.04.1_amd64.deb ...
Unpacking libasan5:amd64 (9.4.0-1ubuntu1~20.04.1) ...
Selecting previously unselected package liblsan0:amd64.
Preparing to unpack .../20-liblsan0_10.3.0-1ubuntu1~20.04_amd64.deb ...
Unpacking liblsan0:amd64 (10.3.0-1ubuntu1~20.04) ...
Selecting previously unselected package libtsan0:amd64.
Preparing to unpack .../21-libtsan0_10.3.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libtsan0:amd64 (10.3.0-1ubuntu1~20.04) ...
Selecting previously unselected package libubsan1:amd64.
Preparing to unpack .../22-libubsan1_10.3.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libubsan1:amd64 (10.3.0-1ubuntu1~20.04) ...
Selecting previously unselected package libquadmath0:amd64.
Preparing to unpack .../23-libquadmath0_10.3.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libquadmath0:amd64 (10.3.0-1ubuntu1~20.04) ...
Selecting previously unselected package libgcc-9-dev:amd64.
Preparing to unpack .../24-libgcc-9-dev_9.4.0-1ubuntu1~20.04.1_amd64.deb ...
Unpacking libgcc-9-dev:amd64 (9.4.0-1ubuntu1~20.04.1) ...
Selecting previously unselected package gcc-9.
Preparing to unpack .../25-gcc-9_9.4.0-1ubuntu1~20.04.1_amd64.deb ...
Unpacking gcc-9 (9.4.0-1ubuntu1~20.04.1) ...
Selecting previously unselected package gcc.
Preparing to unpack .../26-gcc_4%3a9.3.0-1ubuntu2_amd64.deb ...
Unpacking gcc (4:9.3.0-1ubuntu2) ...
Selecting previously unselected package libstdc++-9-dev:amd64.
Preparing to unpack .../27-libstdc++-9-dev_9.4.0-1ubuntu1~20.04.1_amd64.deb ...
Unpacking libstdc++-9-dev:amd64 (9.4.0-1ubuntu1~20.04.1) ...
Selecting previously unselected package g++-9.
Preparing to unpack .../28-g++-9_9.4.0-1ubuntu1~20.04.1_amd64.deb ...
Unpacking g++-9 (9.4.0-1ubuntu1~20.04.1) ...
Selecting previously unselected package g++.
Preparing to unpack .../29-g++_4%3a9.3.0-1ubuntu2_amd64.deb ...
Unpacking g++ (4:9.3.0-1ubuntu2) ...
Selecting previously unselected package make.
Preparing to unpack .../30-make_4.2.1-1.2_amd64.deb ...
Unpacking make (4.2.1-1.2) ...
Selecting previously unselected package libdpkg-perl.
Preparing to unpack .../31-libdpkg-perl_1.19.7ubuntu3.2_all.deb ...
Unpacking libdpkg-perl (1.19.7ubuntu3.2) ...
Selecting previously unselected package dpkg-dev.
Preparing to unpack .../32-dpkg-dev_1.19.7ubuntu3.2_all.deb ...
Unpacking dpkg-dev (1.19.7ubuntu3.2) ...
Selecting previously unselected package build-essential.
Preparing to unpack .../33-build-essential_12.8ubuntu1.1_amd64.deb ...
Unpacking build-essential (12.8ubuntu1.1) ...
Selecting previously unselected package libfakeroot:amd64.
Preparing to unpack .../34-libfakeroot_1.24-1_amd64.deb ...
Unpacking libfakeroot:amd64 (1.24-1) ...
Selecting previously unselected package fakeroot.
Preparing to unpack .../35-fakeroot_1.24-1_amd64.deb ...
Unpacking fakeroot (1.24-1) ...
Selecting previously unselected package libalgorithm-diff-perl.
Preparing to unpack .../36-libalgorithm-diff-perl_1.19.03-2_all.deb ...
Unpacking libalgorithm-diff-perl (1.19.03-2) ...
Selecting previously unselected package libalgorithm-diff-xs-perl.
Preparing to unpack .../37-libalgorithm-diff-xs-perl_0.04-6_amd64.deb ...
Unpacking libalgorithm-diff-xs-perl (0.04-6) ...
Selecting previously unselected package libalgorithm-merge-perl.
Preparing to unpack .../38-libalgorithm-merge-perl_0.08-3_all.deb ...
Unpacking libalgorithm-merge-perl (0.08-3) ...
Selecting previously unselected package libexpat1-dev:amd64.
Preparing to unpack .../39-libexpat1-dev_2.2.9-1ubuntu0.6_amd64.deb ...
Unpacking libexpat1-dev:amd64 (2.2.9-1ubuntu0.6) ...
Selecting previously unselected package libfile-fcntllock-perl.
Preparing to unpack .../40-libfile-fcntllock-perl_0.22-3build4_amd64.deb ...
Unpacking libfile-fcntllock-perl (0.22-3build4) ...
Selecting previously unselected package libpython3.8-dev:amd64.
Preparing to unpack .../41-libpython3.8-dev_3.8.10-0ubuntu1~20.04.6_amd64.deb ..                                                                             .
Unpacking libpython3.8-dev:amd64 (3.8.10-0ubuntu1~20.04.6) ...
Selecting previously unselected package libpython3-dev:amd64.
Preparing to unpack .../42-libpython3-dev_3.8.2-0ubuntu2_amd64.deb ...
Unpacking libpython3-dev:amd64 (3.8.2-0ubuntu2) ...
Selecting previously unselected package manpages-dev.
Preparing to unpack .../43-manpages-dev_5.05-1_all.deb ...
Unpacking manpages-dev (5.05-1) ...
Selecting previously unselected package python-pip-whl.
Preparing to unpack .../44-python-pip-whl_20.0.2-5ubuntu1.7_all.deb ...
Unpacking python-pip-whl (20.0.2-5ubuntu1.7) ...
Selecting previously unselected package zlib1g-dev:amd64.
Preparing to unpack .../45-zlib1g-dev_1%3a1.2.11.dfsg-2ubuntu1.5_amd64.deb ...
Unpacking zlib1g-dev:amd64 (1:1.2.11.dfsg-2ubuntu1.5) ...
Selecting previously unselected package python3.8-dev.
Preparing to unpack .../46-python3.8-dev_3.8.10-0ubuntu1~20.04.6_amd64.deb ...
Unpacking python3.8-dev (3.8.10-0ubuntu1~20.04.6) ...
Selecting previously unselected package python3-dev.
Preparing to unpack .../47-python3-dev_3.8.2-0ubuntu2_amd64.deb ...
Unpacking python3-dev (3.8.2-0ubuntu2) ...
Selecting previously unselected package python3-wheel.
Preparing to unpack .../48-python3-wheel_0.34.2-1ubuntu0.1_all.deb ...
Unpacking python3-wheel (0.34.2-1ubuntu0.1) ...
Selecting previously unselected package python3-pip.
Preparing to unpack .../49-python3-pip_20.0.2-5ubuntu1.7_all.deb ...
Unpacking python3-pip (20.0.2-5ubuntu1.7) ...
Setting up manpages-dev (5.05-1) ...
Setting up libfile-fcntllock-perl (0.22-3build4) ...
Setting up libalgorithm-diff-perl (1.19.03-2) ...
Setting up binutils-common:amd64 (2.34-6ubuntu1.4) ...
Setting up linux-libc-dev:amd64 (5.4.0-137.154) ...
Setting up libctf-nobfd0:amd64 (2.34-6ubuntu1.4) ...
Setting up libgomp1:amd64 (10.3.0-1ubuntu1~20.04) ...
Setting up python3-wheel (0.34.2-1ubuntu0.1) ...
Setting up libfakeroot:amd64 (1.24-1) ...
Setting up fakeroot (1.24-1) ...
update-alternatives: using /usr/bin/fakeroot-sysv to provide /usr/bin/fakeroot (                                                                             fakeroot) in auto mode
Setting up make (4.2.1-1.2) ...
Setting up libquadmath0:amd64 (10.3.0-1ubuntu1~20.04) ...
Setting up libmpc3:amd64 (1.1.0-1) ...
Setting up libatomic1:amd64 (10.3.0-1ubuntu1~20.04) ...
Setting up libdpkg-perl (1.19.7ubuntu3.2) ...
Setting up libubsan1:amd64 (10.3.0-1ubuntu1~20.04) ...
Setting up libcrypt-dev:amd64 (1:4.4.10-10ubuntu4) ...
Setting up libisl22:amd64 (0.22.1-1) ...
Setting up python-pip-whl (20.0.2-5ubuntu1.7) ...
Setting up libbinutils:amd64 (2.34-6ubuntu1.4) ...
Setting up libc-dev-bin (2.31-0ubuntu9.9) ...
Setting up libalgorithm-diff-xs-perl (0.04-6) ...
Setting up libcc1-0:amd64 (10.3.0-1ubuntu1~20.04) ...
Setting up liblsan0:amd64 (10.3.0-1ubuntu1~20.04) ...
Setting up libitm1:amd64 (10.3.0-1ubuntu1~20.04) ...
Setting up gcc-9-base:amd64 (9.4.0-1ubuntu1~20.04.1) ...
Setting up libalgorithm-merge-perl (0.08-3) ...
Setting up libtsan0:amd64 (10.3.0-1ubuntu1~20.04) ...
Setting up libctf0:amd64 (2.34-6ubuntu1.4) ...
Setting up libasan5:amd64 (9.4.0-1ubuntu1~20.04.1) ...
Setting up python3-pip (20.0.2-5ubuntu1.7) ...
Setting up cpp-9 (9.4.0-1ubuntu1~20.04.1) ...
Setting up libc6-dev:amd64 (2.31-0ubuntu9.9) ...
Setting up binutils-x86-64-linux-gnu (2.34-6ubuntu1.4) ...
Setting up binutils (2.34-6ubuntu1.4) ...
Setting up dpkg-dev (1.19.7ubuntu3.2) ...
Setting up libgcc-9-dev:amd64 (9.4.0-1ubuntu1~20.04.1) ...
Setting up libexpat1-dev:amd64 (2.2.9-1ubuntu0.6) ...
Setting up libpython3.8-dev:amd64 (3.8.10-0ubuntu1~20.04.6) ...
Setting up zlib1g-dev:amd64 (1:1.2.11.dfsg-2ubuntu1.5) ...
Setting up cpp (4:9.3.0-1ubuntu2) ...
Setting up gcc-9 (9.4.0-1ubuntu1~20.04.1) ...
Setting up libpython3-dev:amd64 (3.8.2-0ubuntu2) ...
Setting up libstdc++-9-dev:amd64 (9.4.0-1ubuntu1~20.04.1) ...
Setting up gcc (4:9.3.0-1ubuntu2) ...
Setting up g++-9 (9.4.0-1ubuntu1~20.04.1) ...
Setting up python3.8-dev (3.8.10-0ubuntu1~20.04.6) ...
Setting up g++ (4:9.3.0-1ubuntu2) ...
update-alternatives: using /usr/bin/g++ to provide /usr/bin/c++ (c++) in auto mo                                                                             de
Setting up build-essential (12.8ubuntu1.1) ...
Setting up python3-dev (3.8.2-0ubuntu2) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.9) ...
ubuntu@ip-172-31-7-252:~$ sudo pip install flask
Collecting flask
  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)
     |████████████████████████████████| 101 kB 11.3 MB/s
Collecting itsdangerous>=2.0
  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)
Collecting Werkzeug>=2.2.2
  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)
     |████████████████████████████████| 232 kB 20.2 MB/s
Collecting click>=8.0
  Downloading click-8.1.3-py3-none-any.whl (96 kB)
     |████████████████████████████████| 96 kB 9.0 MB/s
Collecting Jinja2>=3.0
  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)
     |████████████████████████████████| 133 kB 36.6 MB/s
Collecting importlib-metadata>=3.6.0; python_version < "3.10"
  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)
Collecting MarkupSafe>=2.1.1
  Downloading MarkupSafe-2.1.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86                                                                             _64.whl (25 kB)
Requirement already satisfied: zipp>=0.5 in /usr/lib/python3/dist-packages (from                                                                              importlib-metadata>=3.6.0; python_version < "3.10"->flask) (1.0.0)
Installing collected packages: itsdangerous, MarkupSafe, Werkzeug, click, Jinja2                                                                             , importlib-metadata, flask
  Attempting uninstall: MarkupSafe
    Found existing installation: MarkupSafe 1.1.0
    Not uninstalling markupsafe at /usr/lib/python3/dist-packages, outside envir                                                                             onment /usr
    Can't uninstall 'MarkupSafe'. No files were found to uninstall.
  Attempting uninstall: click
    Found existing installation: Click 7.0
    Not uninstalling click at /usr/lib/python3/dist-packages, outside environmen                                                                             t /usr
    Can't uninstall 'Click'. No files were found to uninstall.
  Attempting uninstall: Jinja2
    Found existing installation: Jinja2 2.10.1
    Not uninstalling jinja2 at /usr/lib/python3/dist-packages, outside environme                                                                             nt /usr
    Can't uninstall 'Jinja2'. No files were found to uninstall.
  Attempting uninstall: importlib-metadata
    Found existing installation: importlib-metadata 1.5.0
    Not uninstalling importlib-metadata at /usr/lib/python3/dist-packages, outsi                                                                             de environment /usr
    Can't uninstall 'importlib-metadata'. No files were found to uninstall.
Successfully installed Jinja2-3.1.2 MarkupSafe-2.1.2 Werkzeug-2.2.2 click-8.1.3                                                                              flask-2.2.2 importlib-metadata-6.0.0 itsdangerous-2.1.2
ubuntu@ip-172-31-7-252:~$ mkdir ~/flaskapp
ubuntu@ip-172-31-7-252:~$ sudo ln -sT ~/flaskapp /var/www/html/flaskapp
ubuntu@ip-172-31-7-252:~$ cd ~/flaskapp
ubuntu@ip-172-31-7-252:~/flaskapp$ echo "Hello World" > index.html
ubuntu@ip-172-31-7-252:~/flaskapp$ nano flaskapp.py
ubuntu@ip-172-31-7-252:~/flaskapp$ nano flaskapp.wsgi
ubuntu@ip-172-31-7-252:~/flaskapp$ cd ../../..
ubuntu@ip-172-31-7-252:/$ cd etc/apache2
ubuntu@ip-172-31-7-252:/etc/apache2$ cd sites-
-bash: cd: sites-: No such file or directory
ubuntu@ip-172-31-7-252:/etc/apache2$ cd sites-enabled/
ubuntu@ip-172-31-7-252:/etc/apache2/sites-enabled$ sudo nano 000-default.conf
ubuntu@ip-172-31-7-252:/etc/apache2/sites-enabled$ sudo nano 000-default.conf
ubuntu@ip-172-31-7-252:/etc/apache2/sites-enabled$ sudo apachectl restart
ubuntu@ip-172-31-7-252:/etc/apache2/sites-enabled$ cd ..
ubuntu@ip-172-31-7-252:/etc/apache2$ cd ../..
ubuntu@ip-172-31-7-252:/$ cd /home/ubuntu/flaskapp/templates
-bash: cd: /home/ubuntu/flaskapp/templates: No such file or directory
ubuntu@ip-172-31-7-252:/$ cd home/ubuntu/flaskapp/templates
-bash: cd: home/ubuntu/flaskapp/templates: No such file or directory
ubuntu@ip-172-31-7-252:/$ cd ~/flaskapp
ubuntu@ip-172-31-7-252:~/flaskapp$ sudo su
root@ip-172-31-7-252:/home/ubuntu/flaskapp# mkdir templates
root@ip-172-31-7-252:/home/ubuntu/flaskapp# ls
flaskapp.py  flaskapp.wsgi  index.html  templates
root@ip-172-31-7-252:/home/ubuntu/flaskapp# cd templates
root@ip-172-31-7-252:/home/ubuntu/flaskapp/templates# touch registration.html
root@ip-172-31-7-252:/home/ubuntu/flaskapp/templates# nano registration.html
root@ip-172-31-7-252:/home/ubuntu/flaskapp/templates# cat registration.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register</title>
</head>
<body>
<div align="center">
    <div><h1>Registration Page</h1></div>
    <div>
        <form action="{{url_for('registration')}}" method="POST" enctype="multipart/form-data">
            <div>{{ message }}</div><br><br>
            <label>User Name : </label><input id="username" name="username" type="text" placeholder="User Name" autocomplete="off"/> <br><br>
            <label>Password : </label><input id="password" name="password" type="password" placeholder="Password" autocomplete="off"/> <br><br>
            <label>First Name : </label><input id="firstname" name="firstname" type="text" placeholder="First Name" autocomplete="off"/> <br><br>
            <label>Last Name : </label><input id="lastname" name="lastname" type="text" placeholder="Last Name" autocomplete="off"/> <br><br>
            <label>Email : </label><input id="email" name="email" type="text" placeholder="Email" autocomplete="off"/> <br><br>
            <label>Upload File : </label><input type="file" id="textfile" name="textfile"><br><br>
            <button id="submit" name="submit">Register</button>
        </form>
    </div>
    <p>Already have an account? Please click <a href="{{url_for('login')}}">here to login</a></p>
</div>
</body>
</html>
root@ip-172-31-7-252:/home/ubuntu/flaskapp/templates# ls
registration.html
root@ip-172-31-7-252:/home/ubuntu/flaskapp/templates# cd ..
root@ip-172-31-7-252:/home/ubuntu/flaskapp# rm index.html
root@ip-172-31-7-252:/home/ubuntu/flaskapp# ls
flaskapp.py  flaskapp.wsgi  templates
root@ip-172-31-7-252:/home/ubuntu/flaskapp# cd templates
root@ip-172-31-7-252:/home/ubuntu/flaskapp/templates# touch index.html
root@ip-172-31-7-252:/home/ubuntu/flaskapp/templates# nano index.html
root@ip-172-31-7-252:/home/ubuntu/flaskapp/templates# cat index.html
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
</head>
<body>
    <div align="center">
        <div><h1>Login Page</h1></div>
        <div>
            <form action="{{url_for('login')}}" method="POST">
                <div>{{ message }}</div> <br><br>
                <label>User Name : </label><input id="username" name="username" type="text" placeholder="User Name" autocomplete="off"/> <br><br>
                <label>Password : </label><input id="password" name="password" type="password" placeholder="Password" autocomplete="off"/> <br><br>
                <button id="submit" name="submit">Sign in</button>
            </form>
        </div>
        <p>Don't have an account? Please click <a href="{{url_for('registration')}}">here</a></p>
    </div>
</body>
</html>
root@ip-172-31-7-252:/home/ubuntu/flaskapp/templates# ls
index.html  registration.html
root@ip-172-31-7-252:/home/ubuntu/flaskapp/templates# cd
root@ip-172-31-7-252:~# cd /var/
root@ip-172-31-7-252:/var# ls
backups  cache  crash  lib  local  lock  log  mail  opt  run  snap  spool  tmp  www
root@ip-172-31-7-252:/var# cd www
root@ip-172-31-7-252:/var/www# ls
html
root@ip-172-31-7-252:/var/www# cd html
root@ip-172-31-7-252:/var/www/html# ls
flaskapp  index.html
root@ip-172-31-7-252:/var/www/html# cat index.html

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
    Modified from the Debian original for Ubuntu
    Last updated: 2016-11-16
    See: https://launchpad.net/bugs/1288690
  -->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Apache2 Ubuntu Default Page: It works</title>
    <style type="text/css" media="screen">
  * {
    margin: 0px 0px 0px 0px;
    padding: 0px 0px 0px 0px;
  }

  body, html {
    padding: 3px 3px 3px 3px;

    background-color: #D8DBE2;

    font-family: Verdana, sans-serif;
    font-size: 11pt;
    text-align: center;
  }

  div.main_page {
    position: relative;
    display: table;

    width: 800px;

    margin-bottom: 3px;
    margin-left: auto;
    margin-right: auto;
    padding: 0px 0px 0px 0px;

    border-width: 2px;
    border-color: #212738;
    border-style: solid;

    background-color: #FFFFFF;

    text-align: center;
  }

  div.page_header {
    height: 99px;
    width: 100%;

    background-color: #F5F6F7;
  }

  div.page_header span {
    margin: 15px 0px 0px 50px;

    font-size: 180%;
    font-weight: bold;
  }

  div.page_header img {
    margin: 3px 0px 0px 40px;

    border: 0px 0px 0px;
  }

  div.table_of_contents {
    clear: left;

    min-width: 200px;

    margin: 3px 3px 3px 3px;

    background-color: #FFFFFF;

    text-align: left;
  }

  div.table_of_contents_item {
    clear: left;

    width: 100%;

    margin: 4px 0px 0px 0px;

    background-color: #FFFFFF;

    color: #000000;
    text-align: left;
  }

  div.table_of_contents_item a {
    margin: 6px 0px 0px 6px;
  }

  div.content_section {
    margin: 3px 3px 3px 3px;

    background-color: #FFFFFF;

    text-align: left;
  }

  div.content_section_text {
    padding: 4px 8px 4px 8px;

    color: #000000;
    font-size: 100%;
  }

  div.content_section_text pre {
    margin: 8px 0px 8px 0px;
    padding: 8px 8px 8px 8px;

    border-width: 1px;
    border-style: dotted;
    border-color: #000000;

    background-color: #F5F6F7;

    font-style: italic;
  }

  div.content_section_text p {
    margin-bottom: 6px;
  }

  div.content_section_text ul, div.content_section_text li {
    padding: 4px 8px 4px 16px;
  }

  div.section_header {
    padding: 3px 6px 3px 6px;

    background-color: #8E9CB2;

    color: #FFFFFF;
    font-weight: bold;
    font-size: 112%;
    text-align: center;
  }

  div.section_header_red {
    background-color: #CD214F;
  }

  div.section_header_grey {
    background-color: #9F9386;
  }

  .floating_element {
    position: relative;
    float: left;
  }

  div.table_of_contents_item a,
  div.content_section_text a {
    text-decoration: none;
    font-weight: bold;
  }

  div.table_of_contents_item a:link,
  div.table_of_contents_item a:visited,
  div.table_of_contents_item a:active {
    color: #000000;
  }

  div.table_of_contents_item a:hover {
    background-color: #000000;

    color: #FFFFFF;
  }

  div.content_section_text a:link,
  div.content_section_text a:visited,
   div.content_section_text a:active {
    background-color: #DCDFE6;

    color: #000000;
  }

  div.content_section_text a:hover {
    background-color: #000000;

    color: #DCDFE6;
  }

  div.validator {
  }
    </style>
  </head>
  <body>
    <div class="main_page">
      <div class="page_header floating_element">
        <img src="/icons/ubuntu-logo.png" alt="Ubuntu Logo" class="floating_element"/>
        <span class="floating_element">
          Apache2 Ubuntu Default Page
        </span>
      </div>
<!--      <div class="table_of_contents floating_element">
        <div class="section_header section_header_grey">
          TABLE OF CONTENTS
        </div>
        <div class="table_of_contents_item floating_element">
          <a href="#about">About</a>
        </div>
        <div class="table_of_contents_item floating_element">
          <a href="#changes">Changes</a>
        </div>
        <div class="table_of_contents_item floating_element">
          <a href="#scope">Scope</a>
        </div>
        <div class="table_of_contents_item floating_element">
          <a href="#files">Config files</a>
        </div>
      </div>
-->
      <div class="content_section floating_element">


        <div class="section_header section_header_red">
          <div id="about"></div>
          It works!
        </div>
        <div class="content_section_text">
          <p>
                This is the default welcome page used to test the correct
                operation of the Apache2 server after installation on Ubuntu systems.
                It is based on the equivalent page on Debian, from which the Ubuntu Apache
                packaging is derived.
                If you can read this page, it means that the Apache HTTP server installed at
                this site is working properly. You should <b>replace this file</b> (located at
                <tt>/var/www/html/index.html</tt>) before continuing to operate your HTTP server.
          </p>


          <p>
                If you are a normal user of this web site and don't know what this page is
                about, this probably means that the site is currently unavailable due to
                maintenance.
                If the problem persists, please contact the site's administrator.
          </p>

        </div>
        <div class="section_header">
          <div id="changes"></div>
                Configuration Overview
        </div>
        <div class="content_section_text">
          <p>
                Ubuntu's Apache2 default configuration is different from the
                upstream default configuration, and split into several files optimized for
                interaction with Ubuntu tools. The configuration system is
                <b>fully documented in
                /usr/share/doc/apache2/README.Debian.gz</b>. Refer to this for the full
                documentation. Documentation for the web server itself can be
                found by accessing the <a href="/manual">manual</a> if the <tt>apache2-doc</tt>
                package was installed on this server.

          </p>
          <p>
                The configuration layout for an Apache2 web server installation on Ubuntu systems is as follows:
          </p>
          <pre>
/etc/apache2/
|-- apache2.conf
|       `--  ports.conf
|-- mods-enabled
|       |-- *.load
|       `-- *.conf
|-- conf-enabled
|       `-- *.conf
|-- sites-enabled
|       `-- *.conf
          </pre>
          <ul>
                        <li>
                           <tt>apache2.conf</tt> is the main configuration
                           file. It puts the pieces together by including all remaining configuration
                           files when starting up the web server.
                        </li>

                        <li>
                           <tt>ports.conf</tt> is always included from the
                           main configuration file. It is used to determine the listening ports for
                           incoming connections, and this file can be customized anytime.
                        </li>

                        <li>
                           Configuration files in the <tt>mods-enabled/</tt>,
                           <tt>conf-enabled/</tt> and <tt>sites-enabled/</tt> directories contain
                           particular configuration snippets which manage modules, global configuration
                           fragments, or virtual host configurations, respectively.
                        </li>

                        <li>
                           They are activated by symlinking available
                           configuration files from their respective
                           *-available/ counterparts. These should be managed
                           by using our helpers
                           <tt>
                                a2enmod,
                                a2dismod,
                           </tt>
                           <tt>
                                a2ensite,
                                a2dissite,
                            </tt>
                                and
                           <tt>
                                a2enconf,
                                a2disconf
                           </tt>. See their respective man pages for detailed information.
                        </li>

                        <li>
                           The binary is called apache2. Due to the use of
                           environment variables, in the default configuration, apache2 needs to be
                           started/stopped with <tt>/etc/init.d/apache2</tt> or <tt>apache2ctl</tt>.
                           <b>Calling <tt>/usr/bin/apache2</tt> directly will not work</b> with the
                           default configuration.
                        </li>
          </ul>
        </div>

        <div class="section_header">
            <div id="docroot"></div>
                Document Roots
        </div>

        <div class="content_section_text">
            <p>
                By default, Ubuntu does not allow access through the web browser to
                <em>any</em> file apart of those located in <tt>/var/www</tt>,
                <a href="http://httpd.apache.org/docs/2.4/mod/mod_userdir.html" rel="nofollow">public_html</a>
                directories (when enabled) and <tt>/usr/share</tt> (for web
                applications). If your site is using a web document root
                located elsewhere (such as in <tt>/srv</tt>) you may need to whitelist your
                document root directory in <tt>/etc/apache2/apache2.conf</tt>.
            </p>
            <p>
                The default Ubuntu document root is <tt>/var/www/html</tt>. You
                can make your own virtual hosts under /var/www. This is different
                to previous releases which provides better security out of the box.
            </p>
        </div>

        <div class="section_header">
          <div id="bugs"></div>
                Reporting Problems
        </div>
        <div class="content_section_text">
          <p>
                Please use the <tt>ubuntu-bug</tt> tool to report bugs in the
                Apache2 package with Ubuntu. However, check <a
                href="https://bugs.launchpad.net/ubuntu/+source/apache2"
                rel="nofollow">existing bug reports</a> before reporting a new bug.
          </p>
          <p>
                Please report bugs specific to modules (such as PHP and others)
                to respective packages, not to the web server itself.
          </p>
        </div>




      </div>
    </div>
    <div class="validator">
    </div>
  </body>
</html>

root@ip-172-31-7-252:/var/www/html# rm index.html
root@ip-172-31-7-252:/var/www/html# ls
flaskapp
root@ip-172-31-7-252:/var/www/html# cd flaskapp
root@ip-172-31-7-252:/var/www/html/flaskapp# ls
flaskapp.py  flaskapp.wsgi  templates
root@ip-172-31-7-252:/var/www/html/flaskapp# cd templates
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# ls
index.html  registration.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# sudo chown www-data:www-data /var/www/html/flaskapp
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# cd /var/www/html/flaskapp
root@ip-172-31-7-252:/var/www/html/flaskapp# ls
flaskapp.py  flaskapp.wsgi  templates
root@ip-172-31-7-252:/var/www/html/flaskapp# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp# ls
flaskapp.py  flaskapp.wsgi  templates
root@ip-172-31-7-252:/var/www/html/flaskapp# cat flaskapp.py
import sqlite3

from flask import Flask, request, g, render_template, send_file

DATABASE = '/var/www/html/flaskapp/example.db'

app = Flask(__name__)
app.config.from_object(__name__)

def connect_to_database():
    return sqlite3.connect(app.config['DATABASE'])

def get_db():
    db = getattr(g, 'db', None)
    if db is None:
        db = g.db = connect_to_database()
    return db

@app.teardown_appcontext
def close_connection(exception):
    db = getattr(g, 'db', None)
    if db is not None:
        db.close()

def execute_query(query, args=()):
    cur = get_db().execute(query, args)
    rows = cur.fetchall()
    cur.close()
    return rows

def commit():
    get_db().commit()

@app.route("/")
def hello():
    execute_query("DROP TABLE IF EXISTS users")
    execute_query("CREATE TABLE users (Username text,Password text,firstname text,lastname text,email text,count integer)")
    return render_template('index.html')

@app.route('/login', methods =['POST', 'GET'])
def login():
    message = ''
    if request.method == 'POST' and str(request.form['username']) !="" and str(request.form['password']) != "":
        username = str(request.form['username'])
        password = str(request.form['password'])
        result = execute_query("""SELECT firstname,lastname,email,count  FROM users WHERE Username  = (?) AND Password = (?)""", (username, password ))
        if result:
            for row in result:
                return responsePage(row[0], row[1], row[2], row[3])
        else:
            message = 'Invalid Credentials !'
    elif request.method == 'POST':
        message = 'Please enter Credentials'
    return render_template('index.html', message = message)

@app.route('/registration', methods =['GET', 'POST'])
def registration():
    message = ''
    if request.method == 'POST' and str(request.form['username']) !="" and str(request.form['password']) !="" and str(request.form['firstname']) !="" and str(request.form['lastname']) !="" and str(request.form['email']) !="":
        username = str(request.form['username'])
        password = str(request.form['password'])
        firstname = str(request.form['firstname'])
        lastname = str(request.form['lastname'])
        email = str(request.form['email'])
        uploaded_file = request.files['textfile']
        if not uploaded_file:
            filename = null
            word_count = null
        else :
            filename = uploaded_file.filename
            word_count = getNumberOfWords(uploaded_file)
        result = execute_query("""SELECT *  FROM users WHERE Username  = (?)""", (username, ))
        if result:
            message = 'User has already registered!'
        else:
            result1 = execute_query("""INSERT INTO users (username, password, firstname, lastname, email, count) values (?, ?, ?, ?, ?, ? )""", (username, password, firstname, lastname, email, word_count, ))
            commit()
            result2 = execute_query("""SELECT firstname,lastname,email,count  FROM users WHERE Username  = (?) AND Password = (?)""", (username, password ))
            if result2:
                for row in result2:
                    return responsePage(row[0], row[1], row[2], row[3])
    elif request.method == 'POST':
        message = 'Some of the fields are missing!'
    return render_template('registration.html', message = message)

@app.route("/download")
def download():
    path = "Limerick.txt"
    return send_file(path, as_attachment=True)

def getNumberOfWords(file):
    data = file.read()
    words = data.split()
    return str(len(words))

def responsePage(firstname, lastname, email, count):
    return """ First Name :  """ + str(firstname) + """ <br> Last Name : """ + str(lastname) + """ <br> Email : """ + str(email) + """ <br> Word Count : """ + str(count) + """ <br><br> <a href="/download" >Download</a> """

if __name__ == '__main__':
  app.run()root@ip-172-31-7-252:/var/www/html/flaskapp# ls
flaskapp.py  flaskapp.wsgi  templates
root@ip-172-31-7-252:/var/www/html/flaskapp# cd templates
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# ls
index.html  registration.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# cd ..
root@ip-172-31-7-252:/var/www/html/flaskapp# sudo vi /etc/apache2/sites-enabled/000-default.conf

[1]+  Stopped                 sudo vi /etc/apache2/sites-enabled/000-default.conf
root@ip-172-31-7-252:/var/www/html/flaskapp# sudo vi /etc/apache2/sites-enabled/000-default.conf
root@ip-172-31-7-252:/var/www/html/flaskapp# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp# ls
flaskapp.py  flaskapp.wsgi  templates
root@ip-172-31-7-252:/var/www/html/flaskapp# ls
flaskapp.py  flaskapp.wsgi  templates
root@ip-172-31-7-252:/var/www/html/flaskapp# touch Limerick.txt
root@ip-172-31-7-252:/var/www/html/flaskapp# nano Limerick.txt
root@ip-172-31-7-252:/var/www/html/flaskapp# cat Limerick.txt
A Canner Can Can Limerick
A canner exceedingly canny,
One morning remarked to his granny:
A canner can can
Anything that he can,
But a canner can't can a can, can he?
root@ip-172-31-7-252:/var/www/html/flaskapp# ls
Limerick.txt  flaskapp.py  flaskapp.wsgi  templates
root@ip-172-31-7-252:/var/www/html/flaskapp# cd templates
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# ls
index.html  registration.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# client_loop: send disconnect: Connection reset
client_loop:: command not found
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# ls
index.html  registration.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# cd
root@ip-172-31-7-252:~# cd /var/www/html/flaskapp
root@ip-172-31-7-252:/var/www/html/flaskapp# ls
Limerick.txt  __pycache__  example.db  flaskapp.py  flaskapp.wsgi  templates
root@ip-172-31-7-252:/var/www/html/flaskapp# cd templates
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# nano index.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# cat index.html
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
</head>
<body>
    <div align="center">
        <div><h1>LOGIN PAGE</h1></div>
        <div>
            <form action="{{url_for('login')}}" method="POST">
                <div>{{ message }}</div> <br><br>
                <label>USERNAME          </label><input id="username" name="username" type="text" placeholder="User Name" autocomplete="off"/> <br><br>
                <label>PASSWORD          </label><input id="password" name="password" type="password" placeholder="Password" autocomplete="off"/> <br><br>
                <button id="submit" name="submit">LOGIN</button>
            </form>
        </div>
        <p>Haven't registered yet? Follow the  <a href="{{url_for('registration')}}">link</a>please</p>
    </div>
</body>
</html>
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# nano index.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# nano index.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# nano index.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# nano index.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# nano registration.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# nano registration.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# nano registration.html
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp/templates# cd
root@ip-172-31-7-252:~# cd /var/www/html/flaskapp
root@ip-172-31-7-252:/var/www/html/flaskapp# nano flaskapp.py
root@ip-172-31-7-252:/var/www/html/flaskapp# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp# nano flaskapp.py
root@ip-172-31-7-252:/var/www/html/flaskapp# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp# nano flaskapp.py
root@ip-172-31-7-252:/var/www/html/flaskapp# sudo apachectl restart
root@ip-172-31-7-252:/var/www/html/flaskapp#
